<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>fortedata: Data Collection, Preparation, and Management • fortedata</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="fortedata: Data Collection, Preparation, and Management">
<meta property="og:description" content="fortedata">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fortedata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/fd_aboveground_vignette.html">fortedata: Aboveground Wood Data</a>
    </li>
    <li>
      <a href="../articles/fd_belowground_vignette.html">fortedata: Belowground Data</a>
    </li>
    <li>
      <a href="../articles/fd_data_mgmt.html">fortedata: Data Collection, Preparation, and Management</a>
    </li>
    <li>
      <a href="../articles/fd_examples.html">fortedata: Working with the data</a>
    </li>
    <li>
      <a href="../articles/fd_experimental_design.html">fortedata: Experimental Design and Treatment</a>
    </li>
    <li>
      <a href="../articles/fd_forte_proposal_vignette.html">fortedata: Proposal Narrative</a>
    </li>
    <li>
      <a href="../articles/fd_inventory_vignette.html">fortedata: Forest Inventory Data</a>
    </li>
    <li>
      <a href="../articles/fd_leaf_physiology_vignette.html">fortedata: Ecophysiology Data</a>
    </li>
    <li>
      <a href="../articles/fd_litter_vignette.html">fortedata: Litter Data</a>
    </li>
    <li>
      <a href="../articles/fd_remote_sensing_vignette.html">fortedata: Remote Sensing Data</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/FoRTExperiment/fortedata/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="fd_data_mgmt_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>fortedata: Data Collection, Preparation, and Management</h1>
                        <h4 data-toc-skip class="author">FoRTE Team</h4>
            
            <h4 data-toc-skip class="date">2021-05-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/FoRTExperiment/fortedata/blob/master/vignettes/fd_data_mgmt.Rmd" class="external-link"><code>vignettes/fd_data_mgmt.Rmd</code></a></small>
      <div class="hidden name"><code>fd_data_mgmt.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>At the core of FoRTE is the collection of heterogeneous data, from many different instruments, requiring multiple different approaches, to measure different environmental variables. Below we outline the collection and preparation procedures for all data products in <code>fortedata</code>.</p>
<p>For each data product listed includes a <em>Data Preparation</em> section that includes:</p>
<ol style="list-style-type: decimal">
<li>the location of raw data in Google Drive</li>
<li>the format and structure of the raw data</li>
<li>any pre-processing of data</li>
<li>an outline of the process needed to move from raw data to package-ready data</li>
</ol>
</div>
<div id="canopy-structural-traitsterrestrial-lidar" class="section level2">
<h2 class="hasAnchor">
<a href="#canopy-structural-traitsterrestrial-lidar" class="anchor"></a>Canopy Structural Traits/Terrestrial Lidar</h2>
<div id="data-preparation" class="section level3">
<h3 class="hasAnchor">
<a href="#data-preparation" class="anchor"></a>Data Preparation</h3>
<p>CST data are located in the <code>/data/lidar</code> on Google Drive. The raw data from the PCL instrument is in the form of a two column .csv file containing raw distance from instrument values (i.e. lidar pulse returns) and intensity values for each measured transect. These data are processed externally using forestr in R, with the output for each transect containing several .csv files: 1) a two row .csv containing a head of CST metrics and a second row containing values for those metrics; 2) an adjusted leaf area/vegetation area hit grid matrix; 3) a three column, x, z, VAI file; 4) summary matrix file containing x, z, and column specific values (NEED TO ADJUST); and 5) a hit grid plot of VAI.</p>
<p>The first of these files, the two row CST metrics file(s) for each transect are collated into one file where each row represents each transect–the source <code>canopy_structural_traits.csv</code> file in <code>/inst/extdata/</code> from which <code>fd_canopy_structure</code> draws.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#set random seed</span>
<span class="va">cst</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_csv_file.html">read_csv_file</a></span><span class="op">(</span><span class="st">"canopy_structural_traits.csv"</span><span class="op">)</span>

<span class="co"># show the top of </span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">cst</span><span class="op">)</span>
<span class="co">## tibble[,53] [195 x 53] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">##  $ subplot_id        : chr [1:195] "C01E" "C01E" "C01W" "C01W" ...</span>
<span class="co">##  $ year              : int [1:195] 2019 2019 2019 2019 2019 2019 2019 2019 2019 2019 ...</span>
<span class="co">##  $ mean.height.mean  : num [1:195] 9.75 10.3 9.57 8.05 9.61 ...</span>
<span class="co">##  $ height.2          : num [1:195] 4.87 4.37 4.31 4.3 5.97 ...</span>
<span class="co">##  $ mean.height.median: num [1:195] 8.89 9.52 10.32 7.6 7.7 ...</span>
<span class="co">##  $ mean.height.var   : num [1:195] 23.7 19.1 18.6 18.5 35.6 ...</span>
<span class="co">##  $ mean.height.rms   : num [1:195] 10.9 11.2 10.5 9.1 11.3 ...</span>
<span class="co">##  $ transect.length   : int [1:195] 40 40 40 40 40 40 40 20 40 10 ...</span>
<span class="co">##  $ can.max.ht        : num [1:195] 22.6 23.3 21.5 21.1 25.3 ...</span>
<span class="co">##  $ moch              : num [1:195] 14.7 15.2 13.8 13.1 16.7 ...</span>
<span class="co">##  $ can.max.ht.median : num [1:195] 16 17 14.9 13.9 20.1 ...</span>
<span class="co">##  $ vai.mean          : num [1:195] 5.98 6.17 6.27 5.68 5.93 ...</span>
<span class="co">##  $ vai.sd            : num [1:195] 2.81 2.61 2.45 2.69 2.31 ...</span>
<span class="co">##  $ vai.median        : num [1:195] 7.72 7.71 7.82 7.2 6.56 ...</span>
<span class="co">##  $ vai.column.max    : int [1:195] 8 8 8 8 8 8 8 8 8 8 ...</span>
<span class="co">##  $ vai.max.ht.mean   : num [1:195] 10.18 9.93 9.3 7.72 9.82 ...</span>
<span class="co">##  $ vai.max.ht.sd     : num [1:195] 6.43 5.67 5.5 5.64 7.83 ...</span>
<span class="co">##  $ vai.max.ht.median : num [1:195] 11 10 8 5.5 8 9 10 9 4 4 ...</span>
<span class="co">##  $ vai.max           : num [1:195] 7 7.43 8 6.6 7 ...</span>
<span class="co">##  $ vai.mean.peak     : num [1:195] 2.95 3.13 3.6 3.19 3.03 ...</span>
<span class="co">##  $ vai.peak.sd       : num [1:195] 1.85 1.92 2.11 1.76 1.62 ...</span>
<span class="co">##  $ vai.peak.median   : num [1:195] 2.86 3.21 3.44 3.42 2.96 ...</span>
<span class="co">##  $ deep.gaps         : int [1:195] 2 0 1 0 0 0 0 0 0 0 ...</span>
<span class="co">##  $ deep.gap.fraction : num [1:195] 0.05 0 0.025 0 0 0 0 0 0 0 ...</span>
<span class="co">##  $ porosity          : num [1:195] 0.696 0.669 0.733 0.714 0.716 ...</span>
<span class="co">##  $ std.std           : num [1:195] 264 115 205 260 793 ...</span>
<span class="co">##  $ mean.std          : num [1:195] 11.89 8.29 10.73 9.95 18.44 ...</span>
<span class="co">##  $ rugosity          : num [1:195] 11.06 6.82 9.46 12.69 21.29 ...</span>
<span class="co">##  $ top.rugosity      : num [1:195] 5.79 6.07 5.46 4.92 7.46 ...</span>
<span class="co">##  $ mean.return.ht    : num [1:195] 7.1 7.98 7.53 5.54 7.18 ...</span>
<span class="co">##  $ sd.return.ht      : num [1:195] 4.1 4.55 4.9 4.46 6.05 ...</span>
<span class="co">##  $ median.ht         : num [1:195] 6.67 6.84 6.2 3.28 5.53 ...</span>
<span class="co">##  $ sky.fraction      : num [1:195] 18.72 11.9 8.75 14.02 9.85 ...</span>
<span class="co">##  $ cover.fraction    : num [1:195] 81.3 88.1 91.3 86 90.1 ...</span>
<span class="co">##  $ max.ht            : num [1:195] 22.6 23.3 21.5 21.5 26.7 ...</span>
<span class="co">##  $ scan.density      : num [1:195] 2962 2638 2324 2992 2244 ...</span>
<span class="co">##  $ rumple            : num [1:195] 6.2 5 5.2 4.33 5.15 ...</span>
<span class="co">##  $ clumping.index    : num [1:195] 0.93 0.929 0.944 0.875 0.9 ...</span>
<span class="co">##  $ enl               : num [1:195] 18.6 19.2 18 15 18.3 ...</span>
<span class="co">##  $ fhd               : num [1:195] 2.83 2.81 2.85 2.5 2.71 ...</span>
<span class="co">##  $ gini              : num [1:195] 1.82 1.62 1.68 1.38 1.53 ...</span>
<span class="co">##  $ mean.intensity    : num [1:195] 55 57 56.3 50 51.1 ...</span>
<span class="co">##  $ median.intensity  : int [1:195] 57 59 58 49 52 54 54 57 47 45 ...</span>
<span class="co">##  $ sd.intensity      : num [1:195] 14 13.7 13.3 12.4 12.9 ...</span>
<span class="co">##  $ max.intensity     : num [1:195] 100 108 104 94 94 ...</span>
<span class="co">##  $ min.intensity     : num [1:195] 6 6 0.612 6 6 6 6 6 3 2 ...</span>
<span class="co">##  $ skew.intensity    : num [1:195] -0.22053 -0.50636 -0.3968 0.00147 -0.3191 ...</span>
<span class="co">##  $ kurtosis.intensity: num [1:195] 2.93 3.41 3.52 3.14 2.98 ...</span>
<span class="co">##  $ p10               : num [1:195] 2.06 2.91 1.96 1.76 2.23 ...</span>
<span class="co">##  $ p25               : num [1:195] 3.33 3.94 3.11 2.36 2.88 ...</span>
<span class="co">##  $ p50               : num [1:195] 6.67 6.84 6.2 3.28 5.53 ...</span>
<span class="co">##  $ p75               : num [1:195] 10.3 11.21 11.46 9.59 8.06 ...</span>
<span class="co">##  $ p90               : num [1:195] 12.5 14.2 14.8 12.2 19.9 ...</span></code></pre></div>
<p>#General Data Format and Preparation</p>
<p>This section summarizes general formatting and preparation guidelines for all data shared and uploaded to fortedata.</p>
</div>
</div>
<div id="naming-files-and-folders" class="section level2">
<h2 class="hasAnchor">
<a href="#naming-files-and-folders" class="anchor"></a>Naming files and folders</h2>
<ol style="list-style-type: decimal">
<li>Names should be lowercase with "_" separating words.</li>
<li>File Type: CSV (Comma delimited)</li>
<li>Filenames: “data_type_year.csv” (i.e. “canopy_dendroband_2019.csv”)</li>
<li>Folder Names: “data_type” (i.e. “canopy_dendroband”)</li>
<li>README.txt file included in every folder (see README.txt file structure)</li>
<li>Each year should be 1 data file (but does this make sense for instrument data?)</li>
</ol>
</div>
<div id="general-file-structure-and-format" class="section level2">
<h2 class="hasAnchor">
<a href="#general-file-structure-and-format" class="anchor"></a>General File Structure and Format</h2>
<ol style="list-style-type: decimal">
<li>Each row is one observation</li>
<li>Column names should:</li>
</ol>
<ul>
<li>Be lowercase with "_" separating words</li>
<li>Include units if quantitative (i.e. “DBH_cm”; Flux units excluded)</li>
<li>Be added to <code>forte_table_metadata.csv</code> (if not already listed)</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Required columns:</li>
</ol>
<ul>
<li>subplot_id – replicate (“A-”) plot (“-01-”) subplot (“-E”) (i.e “A01E”); <strong>SHOULD NOT</strong> include separate replicate, plot, and subplot columns</li>
<li>date – Date of data collection (YYYY-MM-DD)</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># call forte_table_metadata</span>
<span class="fu"><a href="../reference/fd_metadata.html">fd_metadata</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">## # A tibble: 240 x 5</span>
<span class="co">##    table     field     description                                  class  units</span>
<span class="co">##    &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;                                        &lt;chr&gt;  &lt;chr&gt;</span>
<span class="co">##  1 fd_inven~ subplot_~ &lt;NA&gt;                                         chara~ &lt;NA&gt; </span>
<span class="co">##  2 fd_inven~ tag       Tree tag ID number                           integ~ &lt;NA&gt; </span>
<span class="co">##  3 fd_inven~ species   Species code from the USDA Plants Database   chara~ &lt;NA&gt; </span>
<span class="co">##  4 fd_inven~ dbh_cm    Bole diameter at 1.37 m                      numer~ cm   </span>
<span class="co">##  5 fd_inven~ health_s~ Live (L), moribund (M), or dead (D)          chara~ &lt;NA&gt; </span>
<span class="co">##  6 fd_inven~ canopy_s~ Overstory dominant (OD), overstory submissi~ chara~ &lt;NA&gt; </span>
<span class="co">##  7 fd_inven~ date      Date of measurement                          date   &lt;NA&gt; </span>
<span class="co">##  8 fd_inven~ notes     &lt;NA&gt;                                         chara~ &lt;NA&gt; </span>
<span class="co">##  9 fd_inven~ replicate (from plots table)                           chara~ &lt;NA&gt; </span>
<span class="co">## 10 fd_inven~ plot      (from plots table)                           integ~ &lt;NA&gt; </span>
<span class="co">## # ... with 230 more rows</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jeff Atkins, Ben Bond-Lamberty, Kalyn Dorheim, Stephanie Pennington, Alexey Shiklomanov.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link external-link">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
